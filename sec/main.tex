% !TEX root = ../fib_poly.tex

\section{Fiber polytopes and Steenrod diagonals} \label{s:fiber polytopes and Steenrod diagonals}

Let $P \subset \R^n$ be a polytope.
Following \cite{MTTV19} and \cite{GLA21}, we consider the projection
\[
\begin{tikzcd}[row sep=0, column sep=small]
\pi_0 \colon P \times P \arrow{r} & P \\
\phantom{\pi_0 \colon} (x,y) \arrow[r, |->] & \frac{(x+y)}{2}.
\end{tikzcd}
\]
In this case, the section $\triangle_0$ associated to any vertex $s_0$ of the fiber polytope $P_0 \defeq \Sigma(P \times P,P)$ is a cellular approximation of the diagonal of $P$.

Observe that any fiber $\pi_0^{-1}(z), z \in P$ is contained in an hyperplane in $\R^n\times\R^n$ for which $(1, \dots, 1)$ is a normal vector.
In particular, this is true for the fiber of the barycenter $r$ of $P$.
So, the fiber polytope $P_0$ lies in an hyperplane $T_0 \defeq \LinSpan (\pi_0^{-1}(r)) \subset \R^n \times \R^n$ with normal vector $(1,\ldots,1)$.
We write $\mathcal{N}_{P_0}$ for the restriction of the normal fan of $P_0$ to $T_0^{*}$. Note that we have $$T_0^{*}=\{(c,-c) \in (\R^n \times \R^n)^{*}\cong (\R^n)^{*}\times (\R^n)^{*} \ | \ c \in (\R^n)^{*}\}$$
and an isomorphism
\begin{eqnarray*}
    \R^n & \cong & T_0^{*} \\
    v & \mapsto & \phi_v \ ,
\end{eqnarray*}
where $\phi_v : \R^n \times \R^n \to \R$, $(x,y) \mapsto \langle x-y, v \rangle$.

The product $P \times P$ admits a natural action of the symmetric group $\Sym_2$ by permutation of the factors.
Let $\sigma_2$ denote the non-trivial permutation $(x,y)\mapsto (y,x)$.

\begin{proposition}
	Any tight coherent section $\triangle_0$ of $\pi_0$ has an opposite section $\triangle_0^{\op}$, given by $\triangle_0^{\op}(z)=\triangle_0(z)\sigma_2$.
\end{proposition}

\begin{proof}
	Let $(c,-c) \in T_0^{*}$ be in the interior of a maximal cone of $\mathcal{N}_{P_0}$.
	For any $z\in P$, the point $\triangle_0(z)$ in $P \times P$ maximizes $c$ in $\pi_0^{-1}(z)$.
	Then, the point $\triangle_0^{\op}(z) \defeq \triangle_0(z)\sigma_2$ maximizes $(-c,c)$ in $\pi_0^{-1}(z)$.
\end{proof}

This means that the normal fan of $P_0$ is centrally symmetric: any face $F$ of $P_0$ has an ``opposite'' face $F^{\op}$, for which $\mathcal{N}_{P_0}(F^{\op}) = -\mathcal{N}_{P_0}(F)$.

Now choose a tight coherent section $\triangle_0$.
For $n\geq 0$, let $I^n=[0,1]^n$ denote the $n$-dimensional cube.
We want to build two families of cellular maps
\begin{eqnarray*}
\triangle_n, \triangle^{\op}_n & : & I^n \times P \to P \times P  \ ,
\end{eqnarray*}
which are equivariant under the action of $\Sym_2$ sending $\triangle_n$ to $\triangle^{\op}_n$, and such that $\triangle_i$ and $\triangle_i^{\op}$ are homotopies between $\triangle_{i-1}$ and $\triangle_{i-1}^{\op}$ for all $i \geq 1$.

Let $s_0$ be the vertex of $P_0$ associated to $\triangle_0$, and denote by $s_0^{\op}$ its ``opposite'' vertex, associated to $\triangle_0^{\op}$. We set $v_0 \defeq s_0^{\op}-s_0$. It is clear that for any identification $T_0 \cong T_0^{*}$, we have $v_0 \in \mathcal{N}_{P_0}(s_0^{\op})$.

Consider now the linear function $\langle - , v_0 \rangle$.
It defines a projection of polytopes $\pi_1 \colon P_0 \to I$ via the formula
\[
x \mapsto \frac{\langle x-s_0, v_0 \rangle}{||v_0||^2}.
\]
We consider the fiber polytope $P_1 \defeq \Sigma(P_0,I)$ associated to this projection, also called the \emph{monotone path polytope} \cite[Chapter 9]{Ziegler95}.

Choose a vertex $s_1$ in $P_1$.
It defines a monotone path between $s_0$ and $s^{\op}_0$ in $P_0$, that is, a sequence of vertices and edges $s_0 = s_0^1, e_0^1, s_0^2, e_0^2, \dots, e_0^k, s_0^{k+1} = s^{\op}_0$ on which the linear function $\langle - , v_0 \rangle$ takes increasing values.
These vertices and edges define a sequence of subdivisions of $P_0$ that interpolate between the two cellular approximations of the diagonal $\triangle_0$ and $\triangle^{\op}_0$.
Let us denote the tight coherent sections associated to $s_0^i$ by $\triangle_0^i$, for $1 \leq i \leq k+1$.

The vertex $s_1$ of $P_1$ defines a tight coherent subdivision of $I$.
We denote the vertices of this subdivision by $x_i \defeq \pi_1(s_0^i)$, for $1 \leq i \leq k+1$.
We define a map
\[
\triangle_1 \colon I \times P \to P \times P,
\]
on the segment $[x_i, x_{i+1}]$, $1 \leq i \leq k$, by the formula
\[
(t,z) \mapsto \left( \frac{x_{i+1}-t}{x_{i+1}-x_i} \right) \triangle_0^{i}(z) + \left( \frac{t-x_{i}}{x_{i+1}-x_i} \right) \triangle_0^{i+1}(z).
\]
We obtain a cellular, continuous and piecewise-linear map.
Notice that, by construction, we have $\triangle_1(0,z)=\triangle_0(z)$ and $\triangle_1(1,z)=\triangle_0^{\op}(z)$, so $\triangle_1$ is an homotopy between $\triangle_0$ and $\triangle_0^{\op}$.

Since the normal fan of $P_0$ is centrally symmetric, the vertex $s_1$ of $P_1$ has an opposite vertex $s_1^{\op}$ in $P_1$: it is associated to the monotone path from $s_0$ to $s_0^{\op}$ in $P_0$ given by taking the opposite of each face in the path from $s_0$ to $s^{\op}_0$, in the reverse order.
With the notations above, it is given by $(s_0^{k+1})^{\op},(e_0^k)^{\op},\ldots,(e_0^1)^{\op},(s_0^1)^{\op}$.
In the same fashion as for $\triangle_1$, this path defines a map
\[
\triangle_1^{\op} \colon I \times P \to P \times P.
\]
Notice that $I$ is endowed here with a different tight coherent subdivision than for $\triangle_1$.
Again, $\triangle_1^{\op}$ is an homotopy between $\triangle_0$ and $\triangle_0^{\op}$.

Set $v_1 \defeq s_1^{\op}-s_1$, and consider the linear function $\langle - , v_1 \rangle$.
It defines a projection of polytopes $\pi_2 \colon P_1 \to I$ via the formula
\[
x \mapsto \frac{\langle x-s_1, v_1 \rangle}{||v_1||^2}.
\]
We consider the fiber polytope $P_2 \defeq \Sigma(P_1,I)$ associated to this projection.

Choose a vertex $s_2$ in $P_2$. It defines a monotone path $s_1 = s_1^1, e_1^1, s_1^2, e_1^2, \dots, e_1^l, s_1^{l+1} = s^{\op}_1$.
These vertices and edges define a sequence of subdivisions of $I$ that interpolate between the subdivisions associated to $s_1$ and $s_1^{\op}$.
Let us denote the tight coherent section associated to $s_1^i$ by $\triangle_1^i$, for $1\leq i \leq l+1$.

The vertex $s_2$ of $P_2$ defines a tight coherent subdivision of $I$.
We denote the vertices of this subdivision by $y_i \defeq \pi_2(s_1^i)$, for $1 \leq i \leq l+1$.
We define a map
\[
\triangle_2 \colon I \times (I \times P) \to P \times P,
\]
on the segment $[y_i,y_{i+1}]$, $1 \leq i \leq l$, by the formula
\[
(t,z) \mapsto \left(\frac{y_{i+1}-t}{y_{i+1}-y_i}\right)\triangle_1^{i}(z)+\left(\frac{t-y_{i}}{y_{i+1}-y_i}\right)\triangle_1^{i+1}(z).
\]
We obtain a cellular, continuous and piecewise-linear map.
Notice that, by construction, we have $\triangle_2(0,z)=\triangle_1(z)$ and $\triangle_2(1,z)=\triangle_1^{\op}(z)$, so $\triangle_2$ is an homotopy between $\triangle_1$ and $\triangle_1^{\op}$.

Now we iterate the procedure, define $P_3$ and choose a vertex $s_3$, and so on.
This process will stop at step $\dim P$.
Indeed, we have
\begin{eqnarray*}
    \dim P_0 & = & \dim \Sigma P = 2 \dim P - \dim P = \dim P \\
    \dim P_1 & = & \dim P_0 -1 = \dim P -1 \\
    \dim P_2 & = & \dim P_1 - 1 = \dim P -2 \\
    \vdots & & \vdots  \\
    \dim P_n & = &\dim P - n
\end{eqnarray*}
So if $P$ has dimension $n$, then $P_n$ has dimension 0 and there is no more fiber polytope to be constructed.

In summary, we have proven the following result.

\begin{theorem}
    Any choice of vertices $s_i$ in the fiber polytopes $P_i$, for $i\geq 0$, define a Steenrod diagonal of $P$.
\end{theorem}

Remark that any choice of $s_i$ gives a family of vectors $v_i$ which, under an identification $T_0 \cong T_0^{*} \cong \R^n$, forms an orthogonal basis of $\R^n$. Indeed, for $i \geq 1$, let us define $T_i \defeq \LinSpan(\pi_{i}^{-1}(1/2))$. We have $P_i \subset T_i$ for each $i \geq 0$, and $T_i \subset T_{i-1}$ for all $i\geq 1$. For all $i \geq 0$, we have that $T_i$ is an hyperplane of $T_{i-1}$ for which $v_{i-1}$ is a normal vector.

In fact, since a choice of $s_i$ is equivalent to a choice of maximal cones $\mathcal{N}_{P_i}(s_i)$, any other vector $w_i$ in $\mathcal{N}_{P_i}(s_i)$ would do. Such a family of $w_i$ will always form a (non-necessarily orthogonal) basis of $\R^n$. Indeed, we have $\mathcal{N}_{P_{i-1}}(s_{i-1}) \cap T_{i} = 0$ since $v_{i-1} \in \mathcal{N}_{P_{i-1}}(s_{i-1})$ and $v_{i-1}$ is perpendicular to $T_i$.

\begin{question}
    Given a full-dimensional polytope $P \subset \R^n$, which basis of $\R^n$ define a Steenrod diagonal of $P$?
\end{question}

\begin{example}[The simplices]
\end{example}

\begin{example}[Zonotopes]
\end{example}





